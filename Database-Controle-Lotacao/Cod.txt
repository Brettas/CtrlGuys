CREATE TABLE ESTABELECIMENTO (
  id INTEGER  NOT NULL  ,
  nome VARCHAR(40)  NOT NULL  ,
  cidade VARCHAR(20)  NOT NULL  ,
  cnpj VARCHAR(14)  NOT NULL  ,
  cep VARCHAR(20)  NOT NULL    ,
PRIMARY KEY(id));



CREATE TABLE CLIENTE (
  id INTEGER  NOT NULL  ,
  NOME VARCHAR(40)  NOT NULL  ,
  cidade VARCHAR(30)  NOT NULL  ,
  email VARCHAR(25)  NOT NULL  ,
  cpf INTEGER      ,
PRIMARY KEY(id));



CREATE TABLE VISITA (
  id INTEGER  NOT NULL  ,
  ESTABELECIMENTO_id INTEGER  NOT NULL  ,
  CLIENTE_id INTEGER  NOT NULL  ,
  data_visita DATE      ,
PRIMARY KEY(id)    ,
  FOREIGN KEY(CLIENTE_id)
    REFERENCES CLIENTE(id)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(ESTABELECIMENTO_id)
    REFERENCES ESTABELECIMENTO(id)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION);


CREATE INDEX VISITA_FKIndex1 ON VISITA (CLIENTE_id);
CREATE INDEX VISITA_FKIndex2 ON VISITA (ESTABELECIMENTO_id);



